(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{61:function(e,t,n){e.exports=n(81)},80:function(e,t){},81:function(e,t,n){"use strict";n.r(t);var a,i,o=n(0),r=n.n(o),c=n(18),s=n.n(c),l=(n(66),n(67),n(21)),u=n(19),f=n(26),h=n(24),d="#ecf0f1",p="#bdc3c7",g="#2c3e50",v="#f39c12",m="#16a085",b="#d35400",w="#16a085",O="Linear",y="Quadratic",x="Cubic",S="Quartic",P="Quintic",T=n(92),C=n(58),V=n(91),E=n(89),D=n(38),I=n.n(D),k=n(52),j=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={dropDownTitle:"Select a vector"},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(T.a,{style:{background:v},expand:"lg",sticky:"top"},r.a.createElement(T.a.Brand,{className:"ml-2"},"Find a vector"),r.a.createElement(C.a,{onClick:this.props.clearPoints,variant:"info",style:{background:m},className:"ml-3"},"Clear the board"),r.a.createElement(C.a,{onClick:this.props.openOptions,variant:"info",style:{background:m},className:"ml-3"},"Options"),r.a.createElement(V.a,null,r.a.createElement(E.a,{className:"ml-3",title:this.props.vectorName?this.props.vectorName:"Select a vector",id:"basic-nav-dropdown"},r.a.createElement(E.a.Item,{onClick:function(){return e.props.changeVectorType(O)}},O),r.a.createElement(E.a.Item,{onClick:function(){return e.props.changeVectorType(y)}},y),r.a.createElement(E.a.Item,{onClick:function(){return e.props.changeVectorType(x)}},x),r.a.createElement(E.a.Item,{onClick:function(){return e.props.changeVectorType(S)}},S))),r.a.createElement(C.a,{disabled:"Select a vector type"===this.props.findVectorText||"Put 1 point to visualize"===this.props.findVectorText,onClick:this.props.visualizeButtonHit,variant:this.props.findVectorButtonType,style:{background:m},className:"ml-3"},this.props.findVectorText),r.a.createElement(C.a,{disabled:this.props.buttonDisabled,onClick:this.props.calculateButtonHit,variant:"info",style:{background:m},className:"ml-3"},this.props.calculateVectorText),r.a.createElement(T.a.Brand,{className:"ml-3"},"Speed:"),r.a.createElement(I.a,{min:1,max:60,tooltip:"off",value:this.props.progressBarValue,onChange:function(t){return e.props.calculatingAmount(t.target.value)}}),r.a.createElement(k.a,null),r.a.createElement(C.a,{variant:"info",style:{background:m},className:"ml-3",onClick:this.props.setMoreAccurateFormula},this.props.moreAccurateFormula?"Less accurate formula":"More accurate formula"),r.a.createElement(C.a,{onClick:this.props.addScale,variant:"info",style:{background:m},className:"ml-3"},"+"),r.a.createElement(C.a,{onClick:this.props.subtractScale,variant:"info",style:{background:m},className:"ml-3"},"-"))}}]),n}(o.Component),B=n(10),M=n(59),z=function(e,t){var n=Object(o.useRef)(null),a=Object(o.useState)(window.innerWidth),i=Object(B.a)(a,2),r=(i[0],i[1]),c=Object(o.useState)(window.innerHeight),s=Object(B.a)(c,2),l=(s[0],s[1]),u=function(){r(window.innerWidth),l(window.innerHeight)};return Object(o.useEffect)((function(){var a=n.current,i=a.getContext("2d");return t(i),a.width=window.innerWidth,a.height=window.innerHeight,a.style.left="0px",a.style.top="0px",a.style.position="absolute",e(i),window.addEventListener("resize",u),function(){return window.removeEventListener("resize",u)}})),n},L=function(e){var t=e.setCanvasContext,n=e.onCanvasDrag,a=e.addDataPoint,i=e.draw,c=(e.vectorPlane,Object(M.a)(e,["setCanvasContext","onCanvasDrag","addDataPoint","draw","vectorPlane"])),s=z(i,t),l=Object(o.useState)(!1),u=Object(B.a)(l,2),f=u[0],h=u[1],d=Object(o.useState)(!1),p=Object(B.a)(d,2),g=p[0],v=p[1],m=Object(o.useState)(0),b=Object(B.a)(m,2),w=b[0],O=b[1],y=Object(o.useState)(0),x=Object(B.a)(y,2),S=x[0],P=x[1];return r.a.createElement("canvas",Object.assign({onTouchStart:function(e){h(!0);var t=e.touches[0];console.log("touch",t,"event",e)},onTouchEnd:function(e){},onTouchMove:function(e){},onMouseMove:function(e){var t=e.nativeEvent;if(f){v(!0);var a=t.offsetX,i=t.offsetY,o=w-a,r=S-i;O(a),P(i),n(o,r)}},onMouseDown:function(e){var t=e.nativeEvent;h(!0),v(!1);var n=t.offsetX,a=t.offsetY;O(n),P(a)},onMouseUp:function(e){var t=e.nativeEvent;if(h(!1),!g){var n=t.offsetX,i=t.offsetY;a(n,i)}},ref:s},c))},F=n(88),N=n(90),H=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(N.a,{show:this.props.showMenu,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:this.props.closeMenu},r.a.createElement(N.a.Header,{closeButton:!0},r.a.createElement(N.a.Title,{id:"contained-modal-title-vcenter"},"Options")),r.a.createElement(N.a.Body,null,r.a.createElement("h4",null,"Points in the vector"),r.a.createElement("p",null,"How many points are rendered to form the vector"),r.a.createElement("div",null,this.props.pointsInLine,r.a.createElement(I.a,{min:10,max:200,tooltip:"off",value:this.props.pointsInLine,onChange:function(t){return e.props.setPointsInLine(t.target.value)}})),r.a.createElement("h4",null,"Point sizes"),r.a.createElement("p",null,"Data points"),r.a.createElement("div",null,this.props.dataPointSize,r.a.createElement(I.a,{min:5,max:30,tooltip:"off",value:this.props.dataPointSize,onChange:function(t){return e.props.setDataPointSize(t.target.value)}})),r.a.createElement("p",null,"Line points"),r.a.createElement("div",null,this.props.linePointSize,r.a.createElement(I.a,{min:5,max:30,tooltip:"off",value:this.props.linePointSize,onChange:function(t){return e.props.setLinePointSize(t.target.value)}}))),r.a.createElement(N.a.Footer,null,r.a.createElement(C.a,{variant:"info",onClick:this.props.closeMenu},"Close")))}}]),n}(o.Component),R=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).isCalculating=!1,e.selectedVector="",e.state={calculateButtonDisablbed:!0,calculationsPerDraw:1,vectorName:"",findVectorText:"Select a vector type",findVectorButtonType:"info",calculateVectorText:"Select a vector type",useBetterFormula:!1,showOptionsMenu:!1,dataPointSize:7,linePointSize:5,pointsInLine:100},e.screenToPlane=function(e,t){var n=e-a.xOrigin,i=t-a.yOrigin;return[n/a.scale,i/-a.scale]},e.planeToScreen=function(e,t){var n=e*a.scale,i=t*-a.scale;return[a.xOrigin+n,a.yOrigin+i]},e.addDataPoint=function(t,n){0===a.points.length&&e.setState({findVectorText:"Visualize a "+e.state.vectorName+" vector"});var o=e.screenToPlane(t,n);a.points.push([o[0],o[1]]);var r=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2));r>a.maxDistFromOrigin&&(a.maxDistFromOrigin=r,e.calculateLearningRate()),i.beginPath(),i.fillStyle=b,i.arc(t,n,e.state.dataPointSize,0,2*Math.PI),i.fill(),e.needDisabledButtons()},e.calculateLearningRate=function(){a.learningRate=1/Math.pow(a.learningRateMultiplier*a.maxDistFromOrigin,a.coefficients.length-1)*.01},e.onCanvasDrag=function(t,n){a.xOrigin-=t,a.yOrigin-=n,e.draw(i)},e.setValues=function(e,t,n){a.xOrigin=e,a.yOrigin=t,a.scale=n},e.draw=function(t){t.fillStyle=d,t.beginPath(),t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fill(),t.beginPath(),t.strokeStyle=p;for(var n=a.xOrigin%a.scale,i=n;i<t.canvas.width;i+=a.scale)t.moveTo(i,0),t.lineTo(i,t.canvas.height);for(var o=n=a.yOrigin%a.scale;o<t.canvas.height;o+=a.scale)t.moveTo(0,o),t.lineTo(t.canvas.width,o);if(t.stroke(),t.beginPath(),t.strokeStyle=g,t.moveTo(0,a.yOrigin),t.lineTo(t.canvas.width,a.yOrigin),t.moveTo(a.xOrigin,0),t.lineTo(a.xOrigin,t.canvas.height),t.stroke(),e.drawDataPoints(t),a.renderLine&&e.drawLinePoints(t),0!=a.selectedVectorID)if(t.font="30px Arial",t.fillStyle=g,e.state.useBetterFormula){var r=["a","b","c","d","e"],c="",s=0;switch(a.coefficients.length){case 5:c+=r[s]+"x\u2074+",s++;case 4:c+=r[s]+"x\xb3+",s++;case 3:c+=r[s]+"x\xb2+",s++;case 2:c+=r[s]+"x+"+r[s+1]}t.fillText(c,30,window.innerHeight-30*(a.coefficients.length+1.5));for(var l=0;l<a.coefficients.length;l++)t.fillText(r[a.coefficients.length-l-1]+" = "+a.coefficients[l].toFixed(8),30,window.innerHeight-30*(l+1))}else t.fillText(e.calculateFormula(),30,window.innerHeight-30)},e.drawDataPoints=function(t){t.beginPath(),t.fillStyle=b;for(var n=0;n<a.points.length;n++){var i=e.planeToScreen(a.points[n][0],a.points[n][1]);t.moveTo(i[0],i[1]),t.arc(i[0],i[1],e.state.dataPointSize,0,2*Math.PI)}t.fill()},e.drawLinePoints=function(t){t.beginPath(),t.fillStyle=w;for(var n=0;n<e.state.pointsInLine;n++){var i=window.innerWidth*(n/e.state.pointsInLine),o=e.screenToPlane(i,0)[0],r=a.getPrediction(o),c=e.planeToScreen(0,r)[1];t.moveTo(i,c),t.arc(i,c,e.state.linePointSize,0,2*Math.PI)}t.fill()},e.changeIsCalculating=function(t){e.isCalculating=t,t?(a.isCalculatingLine=!0,a.renderLine=!0,e.setState({findVectorText:"Stop visualizing the vector",findVectorButtonType:"danger"}),clearInterval(e.calculateInterval),e.calculateInterval=setInterval((function(){for(var t=0;t<e.state.calculationsPerDraw;t++)for(var n=0;n<a.coefficients.length-1;n++)a.calculateLine();e.calculateFormula(),e.draw(i)}),20)):(a.isCalculatingLine=!1,e.setState({findVectorText:"Visualize a "+e.state.vectorName+" vector",findVectorButtonType:"info"}),clearInterval(e.calculateInterval))},e.visualizeButtonHit=function(){a.points.length>0&&0!==a.selectedVectorID&&e.changeIsCalculating(!e.isCalculating)},e.calculateFormula=function(){switch(a.selectedVectorID){case 1:var e="";switch(a.coefficients.length){case 5:e+=a.coefficients[4].toFixed(4)+"x\u2074+";case 4:e+=a.coefficients[3].toFixed(3)+"x\xb3+";case 3:e+=a.coefficients[2].toFixed(3)+"x\xb2+";case 2:e+=a.coefficients[1].toFixed(3)+"x+"+a.coefficients[0].toFixed(2)}return e}},e.changeScale=function(t,n){var o=n?a.scale*t:a.scale/t;o>40&&(a.xOrigin-=window.innerWidth/2,a.yOrigin-=window.innerHeight/2,a.xOrigin*=o/a.scale,a.yOrigin*=o/a.scale,a.xOrigin+=window.innerWidth/2,a.yOrigin+=window.innerHeight/2,a.scale=o,e.draw(i))},e.changeCalculatingAmount=function(t){e.setState({calculationsPerDraw:t}),e.isCalculating&&e.changeIsCalculating(!0)},e.changeVectorType=function(t){switch(e.changeIsCalculating(!1),0===a.points.length?e.setState({findVectorText:"Put 1 point to visualize"}):e.setState({findVectorText:"Visualize a "+t+" vector"}),e.setState({calculateVectorText:"Calculate the vector",vectorName:t}),t){case O:a.selectedVectorID=1,a.coefficients=[0,0],a.learningRateMultiplier=1;break;case y:a.selectedVectorID=1,a.coefficients=[0,0,0],a.learningRateMultiplier=1;break;case x:a.selectedVectorID=1,a.coefficients=[0,0,0,0],a.learningRateMultiplier=2;break;case S:a.selectedVectorID=1,a.coefficients=[0,0,0,0,0],a.learningRateMultiplier=5;break;case P:a.selectedVectorID=1,a.coefficients=[0,0,0,0,0,0],a.learningRateMultiplier=100}e.calculateLearningRate(),e.needDisabledButtons()},e.clearBoard=function(){a.points=[],e.changeIsCalculating(!1),e.disableLine(),e.needDisabledButtons(),e.draw(i)},e.disableLine=function(){a.renderLine=!1,e.changeIsCalculating(!1)},e.regressTheVector=function(){for(var t=a.points,n=Object(F.b)(a.coefficients.length,a.coefficients.length),o=Object(F.b)(1,a.coefficients.length),r=[],c=0;c<2*a.coefficients.length-1;c++){r[c]=0;for(var s=0;s<t.length;s++)r[c]+=Math.pow(t[s][0],c)}n=n.map((function(e,t){return r[t[0]+t[1]]})),o=o.map((function(e,n,a){for(var i=0,o=0;o<t.length;o++)i+=t[o][1]*Math.pow(t[o][0],n[1]);return i}));var l=e.matrix_invert(n._data),u=Object(F.a)(o,l);a.renderLine=!0,a.coefficients=u._data[0],e.draw(i),e.changeIsCalculating(!1)},e.useBetterFormula=function(){e.setState({useBetterFormula:!e.state.useBetterFormula})},a=new A(window.innerWidth/2,window.innerHeight/2,60),e}return Object(u.a)(n,[{key:"matrix_invert",value:function(e){if(e.length===e[0].length){var t=0,n=0,a=0,i=e.length,o=0,r=[],c=[];for(t=0;t<i;t+=1)for(r[r.length]=[],c[c.length]=[],a=0;a<i;a+=1)r[t][a]=t===a?1:0,c[t][a]=e[t][a];for(t=0;t<i;t+=1){if(0===(o=c[t][t])){for(n=t+1;n<i;n+=1)if(0!==c[n][t]){for(a=0;a<i;a++)o=c[t][a],c[t][a]=c[n][a],c[n][a]=o,o=r[t][a],r[t][a]=r[n][a],r[n][a]=o;break}if(0===(o=c[t][t]))return}for(a=0;a<i;a++)c[t][a]=c[t][a]/o,r[t][a]=r[t][a]/o;for(n=0;n<i;n++)if(n!==t)for(o=c[n][t],a=0;a<i;a++)c[n][a]-=o*c[t][a],r[n][a]-=o*r[t][a]}return r}}},{key:"setCanvasContext",value:function(e){"undefined"===typeof i&&(i=e)}}]),Object(u.a)(n,[{key:"needDisabledButtons",value:function(){a.points.length>=a.coefficients.length&&0!==a.selectedVectorID?this.setState({calculateButtonDisablbed:!1,calculateVectorText:"Calculate the vector"}):0!==a.selectedVectorID&&(this.setState({calculateButtonDisablbed:!0}),a.points.length<a.coefficients.length&&this.setState({calculateVectorText:"Put "+(a.coefficients.length-a.points.length)+" more point"+(a.coefficients.length-a.points.length===1?"":"s")}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{buttonDisabled:this.state.calculateButtonDisablbed,formula:this.state.formula,clearPoints:this.clearBoard,changeVectorType:this.changeVectorType,calculatingAmount:this.changeCalculatingAmount,calculateButtonHit:this.regressTheVector,visualizeButtonHit:this.visualizeButtonHit,findVectorButtonType:this.state.findVectorButtonType,findVectorText:this.state.findVectorText,calculateVectorText:this.state.calculateVectorText,progressBarValue:this.state.calculationsPerDraw,addScale:function(){return e.changeScale(1.3,!0)},subtractScale:function(){return e.changeScale(1.3,!1)},moreAccurateFormula:this.state.useBetterFormula,setMoreAccurateFormula:this.useBetterFormula,vectorName:this.state.vectorName,openOptions:function(){return e.setState({showOptionsMenu:!0})}}),r.a.createElement(L,{addDataPoint:this.addDataPoint,setCanvasContext:this.setCanvasContext,onCanvasDrag:this.onCanvasDrag,vectorPlane:a,draw:this.draw,className:"fullScreen",id:"canvas"}),r.a.createElement(H,{showMenu:this.state.showOptionsMenu,closeMenu:function(){return e.setState({showOptionsMenu:!1})},dataPointSize:this.state.dataPointSize,setDataPointSize:function(t){return e.setState({dataPointSize:t})},linePointSize:this.state.linePointSize,setLinePointSize:function(t){return e.setState({linePointSize:t})},pointsInLine:this.state.pointsInLine,setPointsInLine:function(t){return e.setState({pointsInLine:t})}}))}}]),n}(o.Component),A=function(){function e(t,n,a){Object(l.a)(this,e),this.selectedVectorID=0,this.learningRate=.01,this.maxDistFromOrigin=0,this.learningRateMultiplier=1,this.renderLine=!1,this.points=[],this.coefficients=[],this.xOrigin=t,this.yOrigin=n,this.scale=a}return Object(u.a)(e,[{key:"getPrediction",value:function(e){for(var t=0,n=0;n<this.coefficients.length;n++)t+=this.coefficients[n]*Math.pow(e,n);return t}},{key:"calculateLine",value:function(){for(var e=Array.apply(null,new Array(this.coefficients.length)).map(Number.prototype.valueOf,0),t=0;t<this.points.length;t++)for(var n=this.points[t][0],a=this.points[t][1]-this.getPrediction(n),i=0;i<this.coefficients.length;i++)e[i]+=a*Math.pow(n,i);for(var o=0;o<this.coefficients.length;o++)this.coefficients[o]+=e[o]*this.learningRate/this.points.length}}]),e}(),W=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(R,null)}}]),n}(o.Component);s.a.render(r.a.createElement(W,null),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.4916a9fb.chunk.js.map