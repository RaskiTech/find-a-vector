{"version":3,"sources":["components/controller.jsx","colors.js","vectors.js","components/topBar.jsx","components/useCanvas.jsx","components/PlaneCanvas.jsx","components/OptionsMenu.jsx","App.js","index.js"],"names":["vectorPlane","canvasContext","COLORS","VECTORS","TopBar","state","dropDownTitle","Navbar","style","background","expand","sticky","Brand","className","Button","onClick","this","props","clearPoints","variant","openOptions","Nav","NavDropdown","title","vectorName","id","Item","changeVectorType","disabled","findVectorText","visualizeButtonHit","findVectorButtonType","buttonDisabled","calculateButtonHit","calculateVectorText","min","max","tooltip","value","progressBarValue","onChange","newAmount","calculatingAmount","target","NavbarCollapse","setMoreAccurateFormula","moreAccurateFormula","addScale","subtractScale","Component","useCanvas","draw","setCanvasContext","canvasRef","useRef","useState","window","innerWidth","setWidth","innerHeight","setHeight","updateWidthAndHeight","useEffect","canvas","current","context","getContext","width","height","left","top","position","addEventListener","removeEventListener","PlaneCanvas","onCanvasDrag","addDataPoint","rest","isMouseDown","setMouseDown","hasDragged","setHasDragged","lastMousePositionX","setLastMousePositionX","lastMousePositionY","setLastMousePositionY","onTouchStart","event","touch","touches","console","log","onTouchEnd","onTouchMove","onMouseMove","nativeEvent","offsetX","offsetY","differenceX","differenceY","onMouseDown","onMouseUp","ref","OptionsMenu","Modal","show","showMenu","size","aria-labelledby","centered","onHide","closeMenu","Header","closeButton","Title","Body","pointsInLine","setPointsInLine","dataPointSize","setDataPointSize","linePointSize","setLinePointSize","Footer","Controller","isCalculating","selectedVector","calculateButtonDisablbed","calculationsPerDraw","useBetterFormula","showOptionsMenu","screenToPlane","xP","yP","normalizedX","xOrigin","normalizedY","yOrigin","scale","planeToScreen","x","y","xPDifference","yPDifference","points","length","setState","coors","push","dist","Math","sqrt","pow","maxDistFromOrigin","calculateLearningRate","beginPath","fillStyle","arc","PI","fill","needDisabledButtons","learningRate","learningRateMultiplier","coefficients","dragX","dragY","setValues","ctx","fillRect","strokeStyle","startDraw","i","moveTo","lineTo","stroke","drawDataPoints","renderLine","drawLinePoints","selectedVectorID","font","letters","formula","index","fillText","toFixed","calculateFormula","pCoors","getPrediction","changeIsCalculating","isCalculatingLine","clearInterval","calculateInterval","setInterval","j","calculateLine","text","changeScale","multiplyAmount","add","changeCalculatingAmount","amount","vector","clearBoard","disableLine","regressTheVector","matrixA","zeros","matrixB","matAValues","map","matrix","newValue","matrixAT","matrix_invert","_data","matrixC","multiply","VectorPlane","M","ii","dim","e","I","C","Fragment","xPosition","prediction","corrections","Array","apply","Number","prototype","valueOf","error","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4916a9fb.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport TopBar from \"./topBar\";\r\nimport PlaneCanvas from './PlaneCanvas';\r\nimport { COLORS } from '../colors';\r\nimport { VECTORS } from \"../vectors\";\r\nimport { zeros, multiply } from \"mathjs\";\r\nimport OptionsMenu from \"./OptionsMenu\";\r\n\r\nvar vectorPlane;\r\nvar canvasContext;\r\n\r\n// Handle the rendering\r\nclass Controller extends Component {\r\n\tisCalculating = false;\r\n\tselectedVector = \"\";\r\n\tstate = {\r\n\t\tcalculateButtonDisablbed: true,\r\n\t\tcalculationsPerDraw: 1,\r\n\t\tvectorName: \"\",\r\n\t\tfindVectorText: \"Select a vector type\",\r\n\t\tfindVectorButtonType: \"info\",\r\n\t\tcalculateVectorText: \"Select a vector type\",\r\n\t\tuseBetterFormula: false,\r\n\t\tshowOptionsMenu: false,\r\n\t\tdataPointSize: 7,\r\n\t\tlinePointSize: 5,\r\n\t\tpointsInLine: 100\r\n\t}\r\n\t// Returns the inverse of matrix `M`.\r\n\tmatrix_invert(M) {\r\n\t\t//if the matrix isn't square: exit (error)\r\n\t\tif(M.length !== M[0].length){return;}\r\n\t\t\r\n\t\t//create the identity matrix (I), and a copy (C) of the original\r\n\t\tvar i=0, ii=0, j=0, dim=M.length, e=0, t=0;\r\n\t\tvar I = [], C = [];\r\n\t\tfor(i=0; i<dim; i+=1){\r\n\t\t\t// Create the row\r\n\t\t\tI[I.length]=[];\r\n\t\t\tC[C.length]=[];\r\n\t\t\tfor(j=0; j<dim; j+=1){\r\n\t\t\t\t\r\n\t\t\t\t//if we're on the diagonal, put a 1 (for identity)\r\n\t\t\t\tif(i===j){ I[i][j] = 1; }\r\n\t\t\t\telse{ I[i][j] = 0; }\r\n\t\t\t\t\r\n\t\t\t\t// Also, make the copy of the original\r\n\t\t\t\tC[i][j] = M[i][j];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Perform elementary row operations\r\n\t\tfor(i=0; i<dim; i+=1){\r\n\t\t\t// get the element e on the diagonal\r\n\t\t\te = C[i][i];\r\n\t\t\t\r\n\t\t\t// if we have a 0 on the diagonal (we'll need to swap with a lower row)\r\n\t\t\tif(e===0){\r\n\t\t\t\t//look through every row below the i'th row\r\n\t\t\t\tfor(ii=i+1; ii<dim; ii+=1){\r\n\t\t\t\t\t//if the ii'th row has a non-0 in the i'th col\r\n\t\t\t\t\tif(C[ii][i] !== 0){\r\n\t\t\t\t\t\t//it would make the diagonal have a non-0 so swap it\r\n\t\t\t\t\t\tfor(j=0; j<dim; j++){\r\n\t\t\t\t\t\t\te = C[i][j];       //temp store i'th row\r\n\t\t\t\t\t\t\tC[i][j] = C[ii][j];//replace i'th row by ii'th\r\n\t\t\t\t\t\t\tC[ii][j] = e;      //repace ii'th by temp\r\n\t\t\t\t\t\t\te = I[i][j];       //temp store i'th row\r\n\t\t\t\t\t\t\tI[i][j] = I[ii][j];//replace i'th row by ii'th\r\n\t\t\t\t\t\t\tI[ii][j] = e;      //repace ii'th by temp\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//don't bother checking other rows since we've swapped\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//get the new diagonal\r\n\t\t\t\te = C[i][i];\r\n\t\t\t\t//if it's still 0, not invertable (error)\r\n\t\t\t\tif(e===0){return}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Scale this row down by e (so we have a 1 on the diagonal)\r\n\t\t\tfor(j=0; j<dim; j++){\r\n\t\t\t\tC[i][j] = C[i][j]/e; //apply to original matrix\r\n\t\t\t\tI[i][j] = I[i][j]/e; //apply to identity\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Subtract this row (scaled appropriately for each row) from ALL of\r\n\t\t\t// the other rows so that there will be 0's in this column in the\r\n\t\t\t// rows above and below this one\r\n\t\t\tfor(ii=0; ii<dim; ii++){\r\n\t\t\t\t// Only apply to other rows (we want a 1 on the diagonal)\r\n\t\t\t\tif(ii===i){continue;}\r\n\t\t\t\t\r\n\t\t\t\t// We want to change this element to 0\r\n\t\t\t\te = C[ii][i];\r\n\t\t\t\t\r\n\t\t\t\t// Subtract (the row above(or below) scaled by e) from (the\r\n\t\t\t\t// current row) but start at the i'th column and assume all the\r\n\t\t\t\t// stuff left of diagonal is 0 (which it should be if we made this\r\n\t\t\t\t// algorithm correctly)\r\n\t\t\t\tfor(j=0; j<dim; j++){\r\n\t\t\t\t\tC[ii][j] -= e*C[i][j]; //apply to original matrix\r\n\t\t\t\t\tI[ii][j] -= e*I[i][j]; //apply to identity\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//we've done all operations, C should be the identity\r\n\t\t//matrix I should be the inverse:\r\n\t\treturn I;\r\n\t}\r\n\tsetCanvasContext(context) { if(typeof(canvasContext) === 'undefined') canvasContext = context; }\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tvectorPlane = new VectorPlane(window.innerWidth/2, window.innerHeight/2, 60);\r\n\t}\r\n\tscreenToPlane = (xP, yP) => {\r\n\t\t// Set the planes 0 0 point to pixel 0 0.\r\n\t\tlet normalizedX = xP - vectorPlane.xOrigin;\r\n\t\tlet normalizedY = yP - vectorPlane.yOrigin;\r\n\t\t// Divide by the scale to get the coordinates\r\n\t\tlet x = normalizedX / vectorPlane.scale;\r\n\t\tlet y = normalizedY / -vectorPlane.scale; // Use minus because the y axis is flipped in pixels\r\n\t\treturn [x, y];\r\n\t}\r\n\tplaneToScreen = (x, y) => {\r\n\t\t// Multiply by the scale to get the pixel difference from the middle\r\n\t\tlet xPDifference = x * vectorPlane.scale;\r\n\t\tlet yPDifference = y * -vectorPlane.scale; // Use minus because the y axis is flipped in pixels\r\n\r\n\t\t// Add it to the pixel center coors to get the coords\r\n\t\tlet xP = vectorPlane.xOrigin + xPDifference;\r\n\t\tlet yP = vectorPlane.yOrigin + yPDifference; \r\n\r\n\t\treturn [xP, yP];\r\n\t}\r\n\r\n\taddDataPoint = (xP, yP) => {\r\n\t\tif (vectorPlane.points.length === 0) this.setState({findVectorText: \"Visualize a \" + this.state.vectorName + \" vector\"});\r\n\r\n\t\tlet coors = this.screenToPlane(xP, yP);\r\n\t\tvectorPlane.points.push([coors[0], coors[1]]);\r\n\r\n\t\tlet dist = Math.sqrt(Math.pow(coors[0], 2) + Math.pow(coors[1], 2));\r\n\t\tif (dist > vectorPlane.maxDistFromOrigin){\r\n\t\t\tvectorPlane.maxDistFromOrigin = dist;\r\n\t\t\tthis.calculateLearningRate();\r\n\t\t}\r\n\t\t\r\n\t\t// Draw the point. Could call drawDataPoints() but this is faster\r\n\t\tcanvasContext.beginPath();\r\n\t\tcanvasContext.fillStyle = COLORS.dataPoint;\r\n\t\tcanvasContext.arc(xP, yP, this.state.dataPointSize, 0, 2*Math.PI);\r\n\t\tcanvasContext.fill()\r\n\t\tthis.needDisabledButtons();\r\n\t}\r\n\r\n\tneedDisabledButtons() {\r\n\t\tif (vectorPlane.points.length >= vectorPlane.coefficients.length && vectorPlane.selectedVectorID !== 0) {\r\n\t\t\tthis.setState({calculateButtonDisablbed: false, calculateVectorText: \"Calculate the vector\"});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif(vectorPlane.selectedVectorID !== 0) {\r\n\t\t\tthis.setState({calculateButtonDisablbed: true});\r\n\t\t\t\tif (vectorPlane.points.length < vectorPlane.coefficients.length) {\r\n\t\t\t\t\tthis.setState({calculateVectorText: \"Put \" +  (vectorPlane.coefficients.length-vectorPlane.points.length) + \" more point\"+(vectorPlane.coefficients.length-vectorPlane.points.length === 1 ? \"\" : \"s\")})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcalculateLearningRate = () => {\r\n\t\tvectorPlane.learningRate = 1/Math.pow(vectorPlane.learningRateMultiplier*vectorPlane.maxDistFromOrigin, vectorPlane.coefficients.length-1) * 0.01;\r\n\t}\r\n\r\n\tonCanvasDrag = (dragX, dragY) => {\r\n\t\tvectorPlane.xOrigin -= dragX;\r\n\t\tvectorPlane.yOrigin -= dragY;\r\n\t\tthis.draw(canvasContext);\r\n\t}\r\n\r\n\tsetValues = (xOrigin, yOrigin, scale) => {\r\n\t\tvectorPlane.xOrigin = xOrigin;\r\n\t\tvectorPlane.yOrigin = yOrigin;\r\n\t\tvectorPlane.scale = scale;\r\n\t}\r\n\r\n\tdraw = (ctx) => {\r\n\t\t// BG\r\n        ctx.fillStyle = COLORS.white;\r\n        ctx.beginPath();\r\n        ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n\t\tctx.fill();\r\n\t\t\r\n\t\t// The Scale lines\r\n\t\tctx.beginPath();\r\n\t\tctx.strokeStyle = COLORS.whiteDark;\r\n\t\tlet startDraw = vectorPlane.xOrigin % vectorPlane.scale;// Get the remainder to know where to start drawing the lines\r\n\t\tfor (let i = startDraw; i < ctx.canvas.width; i += vectorPlane.scale) {\r\n\t\t\tctx.moveTo(i, 0);\r\n\t\t\tctx.lineTo(i, ctx.canvas.height);\r\n\t\t}\r\n\t\tstartDraw = vectorPlane.yOrigin % vectorPlane.scale;\r\n\t\tfor (let i = startDraw; i < ctx.canvas.height; i += vectorPlane.scale) {\r\n\t\t\tctx.moveTo(0, i);\r\n\t\t\tctx.lineTo(ctx.canvas.width, i);\r\n\t\t}\r\n\t\tctx.stroke();\r\n\t\t\r\n\t\t// Main axis\r\n\t\tctx.beginPath();\r\n\t\tctx.strokeStyle = COLORS.grayDark;\r\n        ctx.moveTo(0, vectorPlane.yOrigin);\r\n\t\tctx.lineTo(ctx.canvas.width, vectorPlane.yOrigin);\r\n\t\tctx.moveTo(vectorPlane.xOrigin, 0);\r\n\t\tctx.lineTo(vectorPlane.xOrigin, ctx.canvas.height);\r\n\t\tctx.stroke();\r\n\t\t\r\n\t\t// Points\r\n\t\tthis.drawDataPoints(ctx);\r\n\t\tif (vectorPlane.renderLine)\r\n\t\t\tthis.drawLinePoints(ctx);\r\n\t\t\r\n\t\t// draw the vector formula\r\n\t\tif (vectorPlane.selectedVectorID != 0) {\r\n\t\t\tctx.font = \"30px Arial\";\r\n\t\t\tctx.fillStyle=COLORS.grayDark;\r\n\t\t\tif (this.state.useBetterFormula) {\r\n\t\t\t\tlet letters = [\"a\", \"b\", \"c\", \"d\", \"e\"];\r\n\t\t\t\tlet formula = \"\";\r\n\t\t\t\tlet index = 0;\r\n\t\t\t\tswitch (vectorPlane.coefficients.length) {\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\tformula += letters[index]+\"x⁴+\";\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\tformula += letters[index]+\"x³+\";\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tformula += letters[index]+\"x²+\";\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tformula += letters[index]+\"x+\"+letters[index+1]\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tctx.fillText(formula, 30, window.innerHeight-(30*(vectorPlane.coefficients.length+1.5)));\r\n\t\t\t\tfor (let i = 0; i < vectorPlane.coefficients.length; i++){\r\n\t\t\t\t\tctx.fillText(letters[vectorPlane.coefficients.length-i-1]+\" = \" + vectorPlane.coefficients[i].toFixed(8), 30, window.innerHeight-(30*(i+1)));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse ctx.fillText(this.calculateFormula(), 30, window.innerHeight-30);\r\n\t\t}\r\n\t}\r\n\tdrawDataPoints = (ctx) => {\r\n\t\tctx.beginPath();\r\n\t\tctx.fillStyle = COLORS.dataPoint;\r\n\t\tfor (let i = 0; i < vectorPlane.points.length; i++){\r\n\t\t\tlet pCoors = this.planeToScreen(vectorPlane.points[i][0], vectorPlane.points[i][1]);\r\n\t\t\tctx.moveTo(pCoors[0], pCoors[1]);\r\n\t\t\tctx.arc(pCoors[0], pCoors[1], this.state.dataPointSize, 0, 2*Math.PI);\r\n\t\t}\r\n\t\tctx.fill();\r\n\t}\r\n\tdrawLinePoints = (ctx) => {\r\n\t\t// Draw many points on the line\r\n\t\tctx.beginPath();\r\n\t\tctx.fillStyle = COLORS.linePoint\r\n\t\tfor (let i = 0; i < this.state.pointsInLine; i++){\r\n\t\t\tlet xP = window.innerWidth * (i / this.state.pointsInLine);\r\n\t\t\tlet x = this.screenToPlane(xP, 0)[0];\r\n\t\t\tlet y = vectorPlane.getPrediction(x);\r\n\t\t\tlet yP = this.planeToScreen(0, y)[1];\r\n\t\t\t\r\n\t\t\t// Draw the point\r\n\t\t\tctx.moveTo(xP, yP);\r\n\t\t\tctx.arc(xP, yP, this.state.linePointSize, 0, Math.PI*2);\r\n\t\t}\r\n\t\tctx.fill();\r\n\t}\r\n\r\n\tchangeIsCalculating = (isCalculating) => {\r\n\t\tthis.isCalculating = isCalculating;\r\n\t\tif (isCalculating){\r\n\t\t\tvectorPlane.isCalculatingLine = true;\r\n\t\t\tvectorPlane.renderLine = true;\r\n\t\t\tthis.setState({findVectorText: \"Stop visualizing the vector\", findVectorButtonType: \"danger\"});\r\n\r\n\t\t\t// Set the calculating happening\r\n\t\t\tclearInterval(this.calculateInterval);\r\n\t\t\tthis.calculateInterval = setInterval(() => {\r\n\t\t\t\tfor (let i = 0; i < this.state.calculationsPerDraw; i++){\r\n\t\t\t\t\tfor(let j = 0; j < vectorPlane.coefficients.length-1; j++)\r\n\t\t\t\t\t\tvectorPlane.calculateLine();\r\n\t\t\t\t}\r\n\t\t\t\tthis.calculateFormula();\r\n\t\t\t\tthis.draw(canvasContext);\r\n\t\t\t}, 20);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvectorPlane.isCalculatingLine = false;\r\n\t\t\tthis.setState({findVectorText: \"Visualize a \"+this.state.vectorName+\" vector\", findVectorButtonType: \"info\"});\r\n\t\t\tclearInterval(this.calculateInterval);\r\n\t\t}\r\n\t}\r\n\r\n\tvisualizeButtonHit = () => {\r\n\t\tif (vectorPlane.points.length > 0 && vectorPlane.selectedVectorID !== 0) {\r\n\t\t\tthis.changeIsCalculating(!this.isCalculating);\r\n\t\t}\r\n\t}\r\n\r\n\tcalculateFormula = () => {\r\n\t\tswitch (vectorPlane.selectedVectorID) {\r\n\t\t\tcase 1:\r\n\t\t\t\tlet text = \"\";\r\n\t\t\t\tswitch (vectorPlane.coefficients.length) {\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\ttext += vectorPlane.coefficients[4].toFixed(4) + \"x⁴+\";\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\ttext += vectorPlane.coefficients[3].toFixed(3) + \"x³+\";\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\ttext += vectorPlane.coefficients[2].toFixed(3) + \"x²+\";\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\ttext += vectorPlane.coefficients[1].toFixed(3) + \"x+\" + \r\n\t\t\t\t\t\tvectorPlane.coefficients[0].toFixed(2);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\treturn text;\r\n\t\t}\r\n\t}\r\n\r\n\tchangeScale = (multiplyAmount, add) => {\r\n\t\tlet newAmount = add ? vectorPlane.scale * multiplyAmount : vectorPlane.scale / multiplyAmount;\r\n\t\tif (newAmount > 40) {\r\n\t\t\t// scale from the center\r\n\t\t\tvectorPlane.xOrigin -= window.innerWidth/2;\r\n\t\t\tvectorPlane.yOrigin -= window.innerHeight/2;\r\n\r\n\t\t\tvectorPlane.xOrigin *= newAmount/vectorPlane.scale;\r\n\t\t\tvectorPlane.yOrigin *= newAmount/vectorPlane.scale;\r\n\r\n\t\t\tvectorPlane.xOrigin += window.innerWidth/2;\r\n\t\t\tvectorPlane.yOrigin += window.innerHeight/2;\r\n\r\n\t\t\t// Set the scale\r\n\t\t\tvectorPlane.scale = newAmount;\r\n\r\n\t\t\tthis.draw(canvasContext);\r\n\t\t}\r\n\t}\r\n\r\n\tchangeCalculatingAmount = (amount) => {\r\n\t\tthis.setState({calculationsPerDraw: amount})\r\n\t\tif (this.isCalculating) {\r\n\t\t\tthis.changeIsCalculating(true);\r\n\t\t}\r\n\t}\r\n\r\n\tchangeVectorType = (vector) => {\r\n\t\t// Set the right coefficient amount if one function supports multiple amounts\r\n\t\t// Use the vectorPlane.selectedVectorID to set what algorythm to run\r\n\t\tthis.changeIsCalculating(false);\r\n\t\tif (vectorPlane.points.length === 0) {\r\n\t\t\tthis.setState({findVectorText: \"Put 1 point to visualize\"});\r\n\t\t} else this.setState({findVectorText: \"Visualize a \" + vector + \" vector\"});\r\n\t\tthis.setState({calculateVectorText: \"Calculate the vector\",\r\n\t\t\tvectorName: vector})\r\n\t\tswitch (vector) {\r\n\t\t\tcase VECTORS.line:\r\n\t\t\t\tvectorPlane.selectedVectorID = 1;\r\n\t\t\t\tvectorPlane.coefficients = [0, 0];\r\n\t\t\t\tvectorPlane.learningRateMultiplier = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase VECTORS.power2:\r\n\t\t\t\tvectorPlane.selectedVectorID = 1;\r\n\t\t\t\tvectorPlane.coefficients = [0, 0, 0];\r\n\t\t\t\tvectorPlane.learningRateMultiplier = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase VECTORS.power3:\r\n\t\t\t\tvectorPlane.selectedVectorID = 1;\r\n\t\t\t\tvectorPlane.coefficients = [0, 0, 0, 0];\r\n\t\t\t\tvectorPlane.learningRateMultiplier = 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase VECTORS.power4:\r\n\t\t\t\tvectorPlane.selectedVectorID = 1;\r\n\t\t\t\tvectorPlane.coefficients = [0, 0, 0, 0, 0];\r\n\t\t\t\tvectorPlane.learningRateMultiplier = 5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase VECTORS.power5:\r\n\t\t\t\tvectorPlane.selectedVectorID = 1;\r\n\t\t\t\tvectorPlane.coefficients = [0, 0, 0, 0, 0, 0];\r\n\t\t\t\tvectorPlane.learningRateMultiplier = 100;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tthis.calculateLearningRate();\r\n\t\tthis.needDisabledButtons();\r\n\t}\r\n\r\n\tclearBoard = () => {\r\n\t\tvectorPlane.points = [];\r\n\t\tthis.changeIsCalculating(false);\r\n\t\tthis.disableLine();\r\n\t\tthis.needDisabledButtons();\r\n\t\t\r\n\t\tthis.draw(canvasContext);\r\n\t}\r\n\tdisableLine = () => {\r\n\t\tvectorPlane.renderLine = false;\r\n\t\tthis.changeIsCalculating(false);\r\n\t}\r\n\tregressTheVector = () => {\r\n\t\tlet points = vectorPlane.points;\r\n\t\tlet matrixA = zeros(vectorPlane.coefficients.length, vectorPlane.coefficients.length)\r\n\t\tlet matrixB = zeros(1, vectorPlane.coefficients.length);\r\n\t\tlet matAValues = []\r\n\t\tfor (let i = 0; i < 2*vectorPlane.coefficients.length-1; i++) {\r\n\t\t\tmatAValues[i] = 0;\r\n\t\t\tfor (let j = 0; j < points.length; j++)\r\n\t\t\t\tmatAValues[i] += Math.pow(points[j][0], i);\r\n\t\t}\r\n\t\t// Set the values to the matrix\r\n\t\tmatrixA = matrixA.map(function(value, index) {\r\n\t\t\treturn matAValues[index[0]+index[1]];\r\n\t\t});\r\n\r\n\t\tmatrixB = matrixB.map(function(value, index, matrix){\r\n\t\t\tlet newValue = 0;\r\n\t\t\tfor (let i = 0; i < points.length; i++)\r\n\t\t\t\tnewValue += points[i][1] * Math.pow(points[i][0], index[1]);\r\n\t\t\treturn newValue\r\n\t\t});\r\n\t\tlet matrixAT = this.matrix_invert(matrixA._data);\r\n\r\n\t\t// Multiply matrixAT and B\r\n\t\tlet matrixC = multiply(matrixB, matrixAT);\r\n\t\tvectorPlane.renderLine = true;\r\n\t\tvectorPlane.coefficients = matrixC._data[0];\r\n\t\t\r\n\t\tthis.draw(canvasContext);\r\n\t\tthis.changeIsCalculating(false);\r\n\t}\r\n\r\n\tuseBetterFormula = () => {\r\n\t\tthis.setState({useBetterFormula: !this.state.useBetterFormula});\r\n\t}\r\n\trender() { \r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<TopBar \r\n\t\t\t\t\tbuttonDisabled={this.state.calculateButtonDisablbed}\r\n\t\t\t\t\tformula={this.state.formula}\r\n\t\t\t\t\tclearPoints={this.clearBoard}\r\n\t\t\t\t\tchangeVectorType={this.changeVectorType}\r\n\t\t\t\t\tcalculatingAmount={this.changeCalculatingAmount}\r\n\t\t\t\t\tcalculateButtonHit={this.regressTheVector}\r\n\t\t\t\t\tvisualizeButtonHit={this.visualizeButtonHit}\r\n\t\t\t\t\tfindVectorButtonType={this.state.findVectorButtonType}\r\n\t\t\t\t\tfindVectorText={this.state.findVectorText}\r\n\t\t\t\t\tcalculateVectorText={this.state.calculateVectorText}\r\n\t\t\t\t\tprogressBarValue={this.state.calculationsPerDraw}\r\n\t\t\t\t\taddScale={() => this.changeScale(1.3, true)}\r\n\t\t\t\t\tsubtractScale={() => this.changeScale(1.3, false)}\r\n\t\t\t\t\tmoreAccurateFormula={this.state.useBetterFormula}\r\n\t\t\t\t\tsetMoreAccurateFormula={this.useBetterFormula}\r\n\t\t\t\t\tvectorName={this.state.vectorName}\r\n\t\t\t\t\topenOptions={() => this.setState({showOptionsMenu: true})}/>\r\n\t\t\t\t<PlaneCanvas \r\n\t\t\t\t\taddDataPoint={this.addDataPoint}\r\n\t\t\t\t\tsetCanvasContext={this.setCanvasContext}\r\n\t\t\t\t\tonCanvasDrag={this.onCanvasDrag}\r\n\t\t\t\t\tvectorPlane={vectorPlane}\r\n\t\t\t\t\tdraw={this.draw}\r\n\t\t\t\t\tclassName=\"fullScreen\" id=\"canvas\"/>\r\n\t\t\t\t<OptionsMenu\r\n\t\t\t\t\tshowMenu={this.state.showOptionsMenu}\r\n\t\t\t\t\tcloseMenu={() => this.setState({showOptionsMenu: false})}\r\n\t\t\t\t\tdataPointSize={this.state.dataPointSize}\r\n\t\t\t\t\tsetDataPointSize={amount => this.setState({dataPointSize: amount})}\r\n\t\t\t\t\tlinePointSize={this.state.linePointSize}\r\n\t\t\t\t\tsetLinePointSize={amount => this.setState({linePointSize: amount})}\r\n\t\t\t\t\tpointsInLine={this.state.pointsInLine}\r\n\t\t\t\t\tsetPointsInLine={amount => this.setState({pointsInLine: amount})}\r\n\t\t\t\t\t/>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n\t\r\n}\r\nexport default Controller;\r\n\r\n// Handle the logic\r\nclass VectorPlane {\r\n\r\n\t// Other options\r\n\tselectedVectorID = 0;\r\n\tlearningRate = 0.01;\r\n\r\n\tmaxDistFromOrigin = 0;\r\n\tlearningRateMultiplier = 1;\r\n\r\n\trenderLine = false;\r\n\tpoints = [];\r\n\tcoefficients = [];\r\n\r\n    constructor(xOrigin, yOrigin, scale) {\r\n      this.xOrigin = xOrigin;\r\n      this.yOrigin = yOrigin;\r\n      this.scale = scale;\r\n\t}\r\n\r\n\tgetPrediction(xPosition) {\r\n  \t\tlet prediction = 0;\r\n  \t\tfor (let i = 0; i < this.coefficients.length; i++) {\r\n\t\t\tprediction += this.coefficients[i] * Math.pow(xPosition, i);\r\n\t\t}\r\n \t\treturn prediction;\r\n\t}\r\n\r\n\tcalculateLine() {\r\n\t\t// Array with zeros\r\n\t\tlet corrections = Array.apply(null, new Array(this.coefficients.length)).map(Number.prototype.valueOf,0);\r\n\r\n\t\tfor(let i = 0; i < this.points.length; i++) {\r\n\t\t\tlet x = this.points[i][0];\r\n\t\t\tlet y = this.points[i][1];\r\n\t\t\t\r\n\t\t\tlet guess = this.getPrediction(x)\r\n\t\t\tlet error = y - guess;\r\n\r\n\t\t\t// Add the values to the correction\r\n\t\t\tfor (let i = 0; i < this.coefficients.length; i++)\r\n\t\t\t\tcorrections[i] += error * Math.pow(x, i);\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < this.coefficients.length; i++)\r\n\t\t\t\tthis.coefficients[i] += (corrections[i] * this.learningRate) / this.points.length;\r\n\t}\r\n}","export const COLORS = {\r\n    white: '#ecf0f1',\r\n    whiteDark: '#bdc3c7',\r\n    gray: '#34495e',\r\n    grayDark: '#2c3e50',\r\n    orangeLight: '#f39c12',\r\n    orange: '#e67e22',\r\n    orangeDark: '#d35400',\r\n    turquoise: '#1abc9c',\r\n    turquoiseDark: '#16a085',\r\n\r\n    dataPoint: '#d35400',//orangeDark\r\n    linePoint: '#16a085'//turquoise\r\n}","export const VECTORS = {\r\n    line: 'Linear',\r\n    power2: 'Quadratic',\r\n    power3: 'Cubic',\r\n    power4: 'Quartic',\r\n    power5: 'Quintic'\r\n}","import React, { Component } from \"react\";\r\nimport {COLORS} from '../colors.js'\r\nimport {VECTORS} from '../vectors.js'\r\nimport {Navbar, Nav, NavDropdown, Button} from 'react-bootstrap'\r\nimport RangeSlider from 'react-bootstrap-range-slider';\r\nimport NavbarCollapse from \"react-bootstrap/esm/NavbarCollapse\";\r\n\r\nclass TopBar extends Component {\r\n\tstate = {dropDownTitle: \"Select a vector\"}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Navbar style={{background: COLORS.orangeLight}} expand=\"lg\" sticky=\"top\">\r\n  \t\t\t\t<Navbar.Brand className=\"ml-2\">Find a vector</Navbar.Brand>\r\n\t\t\t\t\r\n\t\t\t\t<Button \r\n\t\t\t\t\tonClick={this.props.clearPoints} \r\n\t\t\t\t\tvariant=\"info\" \r\n\t\t\t\t\tstyle={{background: COLORS.turquoiseDark}} \r\n\t\t\t\t\tclassName=\"ml-3\"\r\n\t\t\t\t>Clear the board</Button>\r\n\r\n\r\n\t\t\t\t<Button \r\n\t\t\t\t\tonClick={this.props.openOptions}\r\n\t\t\t\t\tvariant=\"info\" \r\n\t\t\t\t\tstyle={{background: COLORS.turquoiseDark}}\r\n\t\t\t\t\tclassName=\"ml-3\"\r\n\t\t\t\t>Options</Button>\r\n\r\n    \t\t\t<Nav >\r\n\t\t\t\t\t<NavDropdown className=\"ml-3\" title={this.props.vectorName ? this.props.vectorName : \"Select a vector\"} id=\"basic-nav-dropdown\">\r\n\t\t\t\t\t\t<NavDropdown.Item onClick={() => this.props.changeVectorType(VECTORS.line)}>{VECTORS.line}</NavDropdown.Item>\r\n\t\t\t\t\t\t<NavDropdown.Item onClick={() => this.props.changeVectorType(VECTORS.power2)}>{VECTORS.power2}</NavDropdown.Item>\r\n\t\t\t\t\t\t<NavDropdown.Item onClick={() => this.props.changeVectorType(VECTORS.power3)}>{VECTORS.power3}</NavDropdown.Item>\r\n\t\t\t\t\t\t<NavDropdown.Item onClick={() => this.props.changeVectorType(VECTORS.power4)}>{VECTORS.power4}</NavDropdown.Item>\r\n\t\t\t\t\t</NavDropdown>\r\n    \t\t\t</Nav>\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\t<Button \r\n\t\t\t\t\tdisabled={this.props.findVectorText === \"Select a vector type\" || this.props.findVectorText === \"Put 1 point to visualize\"}\r\n\t\t\t\t\tonClick={this.props.visualizeButtonHit} \r\n\t\t\t\t\tvariant={this.props.findVectorButtonType}\r\n\t\t\t\t\tstyle={{background: COLORS.turquoiseDark}} \r\n\t\t\t\t\tclassName=\"ml-3\"\r\n\t\t\t\t>{this.props.findVectorText}</Button>\r\n\r\n\t\t\t\t<Button \r\n\t\t\t\t\tdisabled={this.props.buttonDisabled}\r\n\t\t\t\t\tonClick={this.props.calculateButtonHit} \r\n\t\t\t\t\tvariant=\"info\" \r\n\t\t\t\t\tstyle={{background: COLORS.turquoiseDark}} \r\n\t\t\t\t\tclassName=\"ml-3\"\r\n\t\t\t\t>{this.props.calculateVectorText}</Button>\r\n\t\t\t\t\r\n\t\t\t\t<Navbar.Brand className=\"ml-3\">Speed:</Navbar.Brand>\r\n\t\t\t\t<RangeSlider\r\n\t\t\t\t\tmin={1}\r\n\t\t\t\t\tmax={60}\r\n\t\t\t\t\ttooltip=\"off\" \r\n\t\t\t\t\tvalue={this.props.progressBarValue} \r\n\t\t\t\t\tonChange={newAmount => this.props.calculatingAmount(newAmount.target.value)}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<NavbarCollapse/>\r\n\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\tstyle={{background: COLORS.turquoiseDark}}\r\n\t\t\t\t\tclassName=\"ml-3\"\r\n\t\t\t\t\tonClick={this.props.setMoreAccurateFormula}\r\n\t\t\t\t>{this.props.moreAccurateFormula ? \"Less accurate formula\" : \"More accurate formula\"}</Button>\r\n\r\n\t\t\t\t<Button \r\n\t\t\t\t\tonClick={this.props.addScale}\r\n\t\t\t\t\tvariant=\"info\" \r\n\t\t\t\t\tstyle={{background: COLORS.turquoiseDark}}\r\n\t\t\t\t\tclassName=\"ml-3\"\r\n\t\t\t\t>+</Button>\r\n\r\n\t\t\t\t<Button \r\n\t\t\t\t\tonClick={this.props.subtractScale} \r\n\t\t\t\t\tvariant=\"info\" \r\n\t\t\t\t\tstyle={{background: COLORS.turquoiseDark}} \r\n\t\t\t\t\tclassName=\"ml-3\"\r\n\t\t\t\t>-</Button>\r\n\t\t\t</Navbar>\r\n\t\t)\r\n\t}\r\n};\r\n// Spaces are &nbsp;\r\nexport default TopBar;","import { useRef, useEffect, useState } from 'react'\r\n\r\nconst useCanvas = (draw, setCanvasContext) => {\r\n  \r\n  const canvasRef = useRef(null)\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n  const [height, setHeight] = useState(window.innerHeight);\r\n  \r\n  const updateWidthAndHeight = () => {\r\n    setWidth(window.innerWidth);\r\n    setHeight(window.innerHeight);\r\n  };\r\n\r\n  useEffect(() => {\r\n    \r\n    const canvas = canvasRef.current\r\n    const context = canvas.getContext('2d')\r\n    setCanvasContext(context);\r\n    canvas.width = window.innerWidth;\r\n    canvas.height = window.innerHeight;\r\n    canvas.style.left = \"0px\";\r\n    canvas.style.top = \"0px\";\r\n    canvas.style.position = \"absolute\";\r\n    draw(context);\r\n\r\n    window.addEventListener(\"resize\", updateWidthAndHeight);\r\n    return () => window.removeEventListener(\"resize\", updateWidthAndHeight);\r\n  })\r\n  \r\n  return canvasRef;\r\n}\r\n\r\nexport default useCanvas","import React, { useState } from 'react';\r\nimport useCanvas from './useCanvas'\r\n\r\nconst PlaneCanvas = props => { \r\n    const { setCanvasContext, onCanvasDrag, addDataPoint, draw, vectorPlane, ...rest } = props;\r\n    const canvasRef = useCanvas(draw, setCanvasContext);\r\n    \r\n    const [isMouseDown, setMouseDown] = useState(false);\r\n    const [hasDragged, setHasDragged] = useState(false);\r\n    const [lastMousePositionX, setLastMousePositionX] = useState(0);\r\n    const [lastMousePositionY, setLastMousePositionY] = useState(0);\r\n\r\n    const mouseDown = ({nativeEvent}) => {\r\n        setMouseDown(true);\r\n        setHasDragged(false);\r\n        const {offsetX, offsetY} = nativeEvent;\r\n        setLastMousePositionX(offsetX);\r\n        setLastMousePositionY(offsetY);\r\n    }\r\n    const mouseMove = ({nativeEvent}) => {\r\n        if (isMouseDown) {\r\n            setHasDragged(true);\r\n            const {offsetX, offsetY} = nativeEvent;\r\n            let differenceX = lastMousePositionX - offsetX;\r\n            let differenceY = lastMousePositionY - offsetY;\r\n            setLastMousePositionX(offsetX);\r\n            setLastMousePositionY(offsetY);\r\n            onCanvasDrag(differenceX, differenceY);\r\n        }\r\n    }\r\n    const mouseUp = ({nativeEvent}) => {\r\n        setMouseDown(false);\r\n        if (!hasDragged) {\r\n            // It's a click. Add a point\r\n            const {offsetX, offsetY} = nativeEvent;\r\n            addDataPoint(offsetX, offsetY);\r\n        }\r\n    }\r\n\r\n    const touchDown = (event) => {\r\n        setMouseDown(true);\r\n        //let mousePos = getTouchPos(canvas, event);\r\n        let touch = event.touches[0];\r\n        console.log(\"touch\", touch, \"event\", event);\r\n    }\r\n    const touchMove = (event) => {\r\n    \r\n    }\r\n    const touchUp = (event) => {\r\n\r\n    }\r\n\r\n    \r\n    \r\n    return <canvas onTouchStart={touchDown} onTouchEnd={touchUp} onTouchMove={touchMove}\r\n        onMouseMove={mouseMove} onMouseDown={mouseDown} onMouseUp={mouseUp} ref={canvasRef} {...rest}/>\r\n  }\r\n  \r\n  export default PlaneCanvas;","import React, { Component } from 'react';\r\nimport {  Button, Modal } from \"react-bootstrap\";\r\nimport RangeSlider from 'react-bootstrap-range-slider';\r\n\r\nclass OptionsMenu extends Component {\r\n    render() { \r\n        return ( \r\n            <Modal\r\n\t\t\t\tshow={this.props.showMenu}\r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n                onHide={this.props.closeMenu}\r\n\t\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\">\r\n\t\t\t\t\tOptions\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<h4>Points in the vector</h4>\r\n\t\t\t\t\t<p>How many points are rendered to form the vector</p>\r\n                    <div>\r\n                        {this.props.pointsInLine}\r\n                        <RangeSlider \r\n                            min={10}\r\n\t\t\t\t\t        max={200}\r\n                            tooltip=\"off\"\r\n                            value={this.props.pointsInLine}\r\n                            onChange={newAmount => this.props.setPointsInLine(newAmount.target.value)}/>\r\n                    </div>\r\n\r\n\t\t\t\t\t<h4>Point sizes</h4>\r\n\t\t\t\t\t<p>Data points</p>\r\n                    <div>\r\n                        {this.props.dataPointSize}\r\n                        <RangeSlider \r\n                            min={5}\r\n\t\t\t\t\t        max={30}\r\n                            tooltip=\"off\"\r\n                            value={this.props.dataPointSize}\r\n                            onChange={newAmount => this.props.setDataPointSize(newAmount.target.value)}/>\r\n                    </div>\r\n                    <p>Line points</p>\r\n                    <div>\r\n                        {this.props.linePointSize}\r\n                        <RangeSlider \r\n                            min={5}\r\n\t\t\t\t\t        max={30}\r\n                            tooltip=\"off\"\r\n                            value={this.props.linePointSize}\r\n                            onChange={newAmount => this.props.setLinePointSize(newAmount.target.value)}/>\r\n                    </div>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant={\"info\"} onClick={this.props.closeMenu}>Close</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n         );\r\n    }\r\n}\r\n \r\nexport default OptionsMenu;","import React, { Component } from \"react\";\r\nimport Controller from './components/controller'\r\n\r\nclass App extends Component {\r\n\trender() { \r\n\t\treturn (\r\n\t\t\t<Controller/>\r\n\t\t);\r\n\t}\r\n}\r\n \r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"bootstrap/dist/css/bootstrap.css\"\nimport 'react-bootstrap-range-slider/dist/react-bootstrap-range-slider.css';\nimport App from \"./App\"\n\n// This is a test comment\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}